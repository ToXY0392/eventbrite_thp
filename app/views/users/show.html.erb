<div class="row">
  <!-- Colonne avatar + infos -->
  <div class="col-md-4 mb-4">
    <div class="card border-0 shadow-sm">
      <div class="card-body text-center">

        <!-- ðŸ”¹ Avatar -->
        <div class="mb-3">
          <%= image_tag @user.avatar_or_default,
                        class: "img-thumbnail rounded-circle",
                        alt: "Avatar utilisateur",
                        style: "width:120px; height:120px; object-fit:cover;" %>
        </div>

        <!-- ðŸ”¹ Formulaire changement avatar (seulement si on est sur son propre profil) -->
        <% if user_signed_in? && current_user == @user %>
          <%= form_tag user_avatars_path(@user), multipart: true, class: "mb-3" do %>
            <div class="mb-2">
              <%= file_field_tag :avatar, accept: "image/*",
                                  class: "form-control form-control-sm" %>
            </div>
            <%= submit_tag t("app.users.show.update_avatar", default: "Mettre Ã  jour lâ€™avatar"),
                            class: "btn btn-sm btn-outline-primary" %>
          <% end %>
        <% end %>

        <!-- ðŸ”¹ Nom -->
        <h2 class="card-title h4 mb-3">
          <%= @user.first_name.presence || t("app.users.show.first_name_default") %>
          <%= @user.last_name.presence  || t("app.users.show.last_name_default")  %>
        </h2>

        <!-- ðŸ”¹ Email -->
        <p class="mb-1">
          <strong><%= t("app.users.show.email") %> :</strong>
          <%= @user.email %>
        </p>

        <!-- ðŸ”¹ Description -->
        <p class="mb-3">
          <strong><%= t("app.users.show.description") %> :</strong><br>
          <%= @user.description.presence || t("app.users.show.description_default") %>
        </p>

        <hr>

        <!-- ðŸ”¹ Bouton modifier mot de passe -->
        <%= link_to t("app.users.show.edit_password"),
                    edit_user_registration_path,
                    class: "btn btn-outline-primary btn-sm" %>

      </div>
    </div>
  </div>

  <!-- Colonne events -->
  <div class="col-md-8 mb-4">
    <div class="card border-0 shadow-sm">
      <div class="card-body">
        <h3 class="h5 mb-4"><%= t("app.users.show.events_created") %></h3>
        <% if @created_events.any? %>
          <div class="list-group list-group-flush">
            <% @created_events.each do |event| %>
              <%= render "events/event_list_item", event: event %>
            <% end %>
          </div>
        <% else %>
          <p class="text-muted mb-0"><%= t("app.users.show.no_events") %></p>
        <% end %>
      </div>
    </div>
  </div>
</div>